<!DOCTYPE html>
<html>
	<head>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="/css/iframe.css">
		<link rel="stylesheet" href="/css/index.css">
		<link rel="icon" type="image/png" href="/img/cornicon.png">
		<title>Corn Pr0xy</title>
	</head>
	<body>
		<div class="center">
			<div class="center-block">
				<a class="button inline" href="/index.html">Back</a>
				<a class="button inline" href="/license.txt">License</a>
			</div>
			<div class="center-block">
				<input type="text" id="text" />
				<select id="proxyType" class="button inline" title="Change this if you are experiencing overly slow proxying on basic websites">
					<option value="proxy">Proxy 1</option>
					<option value="proxy2">Proxy 2 (TODO)</option>
					<option value="proxy3">Proxy 3 (TODO)</option>
					<option value="fastproxy">Fast Proxy 1 (TODO)</option>
					<option value="fastproxy2">Fast Proxy 2 (TODO)</option>
					<option value="fastproxy3">Fast Proxy 3 (TODO)</option>
				</select>
			</div>
		</div>
		<iframe allow="fullscreen" id="iframe" src="/other/select.html"></iframe>
		<script>
			var gamelist = {
				"proxy": "https://frightened-yak-jodhpurs.cyclic.app/loader.html",
				"proxy2": "https://example.com",
				"proxy3": "https://example.com",
				"fastproxy": "https://example.com",
				"fastproxy2": "https://example.com",
				"fastproxy3": "https://example.com",
			};
		</script>
		<script src="/scripts/gameinfo.js"></script>
		<script>
			function setUrlForIframe(e) {
                let input = document.getElementById("text");
                let iframe = document.getElementById("iframe");
                iframe.contentWindow.postMessage("input:" + input.value, "*");
				iframe.removeEventListener("load", setUrlForIframe);
			}
			function enter() {
				let proxy = getGameUrl(document.getElementById("proxyType").value);
                let iframe = document.getElementById("iframe");
				iframe.addEventListener("load", setUrlForIframe);
				iframe.src = proxy;
			}
			document.getElementById("text").addEventListener("keydown", function (e) { if (e.code === "Enter") { enter(); } });
		</script>
		<script src="/scripts/themeloader.js"></script>
	</body>
</html>
